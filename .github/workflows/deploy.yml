name: CI - Build and Push Docker Image

on:
   push:
      branches:
         - main

jobs:
   build:
      runs-on: ubuntu-latest

      steps:
         - names: checkout Code
           uses: actions/checkout@v3

         - name: Login to DockerHub
	   uses:docker/lgoin-action@v2
	   with:
	     username: ${{ secrets.DOCKER_USERNAME }}
	     password: ${{ secrets.DOCKER_PASSWORD }}
	   
	   - name: Build and Push Docker Image
	     uses: docker/build-push-action@v3
	     with:
	       context: .
	       file: ./Dockerfile
	       push: true
	       tags: mouli692/my-react-app:latest